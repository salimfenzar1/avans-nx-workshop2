<div class="container mt-4">
  <h2>Kookclub Maken</h2>
  <form #form="ngForm" (ngSubmit)="createKookclub(form)" novalidate>
    <!-- Naam -->
    <div class="mb-3">
      <label for="kookclubNaam" class="form-label">Naam</label>
      <input
        type="text"
        id="kookclubNaam"
        class="form-control"
        [(ngModel)]="kookclubNaam"
        name="naam"
        required
      />
      <div *ngIf="form.submitted && !kookclubNaam" class="text-danger">
        Naam is verplicht.
      </div>
    </div>

    <!-- Beschrijving -->
    <div class="mb-3">
      <label for="beschrijving" class="form-label">Beschrijving</label>
      <textarea
        id="beschrijving"
        class="form-control"
        [(ngModel)]="beschrijving"
        name="beschrijving"
        required
      ></textarea>
      <div *ngIf="form.submitted && !beschrijving" class="text-danger">
        Beschrijving is verplicht.
      </div>
    </div>

    <!-- Categorieën -->
    <div class="mb-3">
      <label class="form-label">Categorieën</label>
      <div *ngFor="let categorie of availableCategories" class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          [checked]="categorieen.includes(categorie)"
          (change)="toggleCategorie(categorie)"
          id="{{ categorie }}"
          name="categorie"
        />
        <label class="form-check-label" for="{{ categorie }}">
          {{ categorie }}
        </label>
      </div>
      <div *ngIf="form.submitted && categorieen.length === 0" class="text-danger">
        Selecteer ten minste één categorie.
      </div>
    </div>

    <!-- Recepten -->
    <div class="mb-3">
      <label for="recepten" class="form-label">Recepten</label>
      <select
        multiple
        id="recepten"
        class="form-control"
        [(ngModel)]="selectedRecepten"
        name="recepten"
      >
        <option
          *ngFor="let recipe of availableRecipes"
          [value]="recipe._id"
        >
          {{ recipe.title }}
        </option>
      </select>
    </div>

    <button type="submit" class="btn btn-success">Kookclub Maken</button>
  </form>
</div>
